<div class="gradientbackground">
  <div class="h-full w-full px-6 lg:px-36 grid grid-rows-12 grid-flow-col">
    @if (isLoading) {
    <div
      class="fixed inset-0 z-50 flex justify-center items-center backdrop-blur-sm"
    >
      <app-loading></app-loading>
    </div>
    }
    <!-- nav container -->
    <div class="row-span-2 flex items-center justify-between lg:px-10">
      <app-brand-name></app-brand-name>
      <div class="flex gap-x-2 items-center text-[17px]/[26px]">
        <div class="hidden md:flex lg:flex">Don't have an account?</div>
        <a
          routerLink="/signup"
          class="flex gap-x-1 items-center cursor-pointer font-semibold"
        >
          <div>Sign up</div>
          <div
            class="animate-custom-bounce bg-white border border-purple-400 rounded-full flex justify-center items-center w-8 h-8"
          >
            <lucide-icon
              name="arrow-right"
              class="text-purple-900"
            ></lucide-icon>
          </div>
        </a>
      </div>
    </div>

    <div class="row-span-10 flex flex-col items-center w-full">
      <!-- main container -->
      <div class="flex flex-col w-full">
        <!-- top container  -->
        <div class="flex flex-col gap-y-6 w-full">
          <div class="py-[6px] text-center text-xl text-black font-semibold">
            Hey there, Earthling!
          </div>
          <!-- form container -->
          <div class="flex flex-col items-center justify-center w-full">
            <div class="text-red-500 font-semibold p-1">{{ errorMessage }}</div>
            <form
              [formGroup]="loginForm"
              (ngSubmit)="login()"
              class="w-full flex justify-center"
            >
              <div
                class="flex flex-col items-center gap-y-4 w-full max-w-[320px] lg:max-w-[360px]"
              >
                <div class="w-full relative">
                  <label for="identifier" class="absolute top-4 left-3">
                    <lucide-icon
                      name="user-round"
                      class="text-[#94649D] w-5 h-5"
                    ></lucide-icon>
                  </label>
                  <input
                    id="identifier"
                    type="text"
                    formControlName="identifier"
                    placeholder="Username"
                    class="w-full py-3 rounded-md bg-white border-2 border-[#EFD3F3] pl-10 focus:outline-none focus:ring-2 focus:ring-[#DBAEE2] focus:border-transparent focus:ring-offset-0 autofill:bg-white autofill:text-black autofill:shadow-[inset_0_0_0px_1000px_white]"
                  />

                  <!-- error message -->
                  @if ( loginForm.get('identifier')?.invalid &&show_error) {
                  <div class="absolute top-14 w-fit left-1/2 z-50" @fadeInOut>
                    <app-required-field-alert></app-required-field-alert>
                  </div>
                  }
                </div>
                <div class="w-full relative">
                  <label for="password" class="absolute top-4 left-3">
                    <lucide-icon
                      name="key-round"
                      class="text-[#94649D] w-5 h-5"
                    ></lucide-icon>
                  </label>
                  <input
                    id="password"
                    [type]="is_password_visible ? 'text' : 'password'"
                    formControlName="password"
                    placeholder="Password"
                    class="w-full py-3 rounded-md bg-white border-2 border-[#EFD3F3] pl-10 focus:outline-none focus:ring-2 focus:ring-[#DBAEE2] focus:border-transparent focus:ring-offset-0 autofill:bg-white autofill:text-black autofill:shadow-[inset_0_0_0px_1000px_white]"
                  />

                  <!-- password visiblity icons -->
                  @if (is_password_visible) {
                  <lucide-icon
                    name="eye"
                    (click)="togglePasswordVisibility()"
                    class="absolute text-[#94649D] w-5 h-5 right-2 top-2"
                  ></lucide-icon>
                  } @else {
                  <lucide-icon
                    name="eye-closed"
                    (click)="togglePasswordVisibility()"
                    class="absolute text-[#94649D] w-5 h-5 right-2 top-2"
                  ></lucide-icon>
                  }

                  <!-- error message -->
                  @if ( loginForm.get('password')?.invalid &&show_error) {
                  <div class="absolute top-14 w-fit left-1/2 z-50" @fadeInOut>
                    <app-required-field-alert></app-required-field-alert>
                  </div>
                  }
                </div>
                <div class="text-blue-600 text-sm font-semibold">
                  Don't remember your password?
                </div>
                <button
                  class="text-base text-white font-semibold bg-black rounded-full w-full mt-4 py-3 shadow-xl transition-all duration-200"
                >
                  Log In
                </button>
              </div>
            </form>
          </div>
        </div>
        <!-- middle container -->
        <div>
          <div class="text-sm py-4 flex justify-center text-slate-600">or</div>
        </div>
        <!-- bottom container -->
        <!-- social logins -->
        <div
          class="flex flex-col items-center gap-y-4 text-base font-semibold w-full"
        >
          <!-- google icon -->
          <button
            class="flex flex-wrap items-center justify-center gap-x-2 w-full max-w-[320px] lg:max-w-[360px] py-3 border-2 border-[#7E41C2] hover:bg-[#F6ECFF] rounded-full shadow-xl transition-all duration-200"
          >
            <span>
              <img src="google-symbol.png" alt="google" class="w-5 h-5" />
            </span>
            <span class="text-center break-words">Continue with Google</span>
          </button>

          <!-- github icon -->
          <!-- hover:border-pink-500 bg-[#fd98d8] -->
          <button
            class="flex items-center justify-center gap-x-2 w-[320px] lg:w-[360px] py-3 border-2 border-black hover:bg-[#E7E8EC] rounded-full shadow-xl transition-all duration-200"
          >
            <!-- -->
            <span>
              <img src="github.png" alt="github" class="w-6 h-6" />
            </span>
            <span>Continue with Github</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
