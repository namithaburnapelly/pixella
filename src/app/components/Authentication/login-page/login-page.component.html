<div class="gradientbackground">
  <div class="h-full w-full px-6 lg:px-36 grid grid-rows-12 grid-flow-col">
    @if (isLoading) {
    <div
      class="fixed inset-0 z-50 flex justify-center items-center backdrop-blur-sm"
    >
      <app-loading></app-loading>
    </div>
    }
    <!-- nav container -->
    <div class="row-span-2 flex items-center justify-between lg:px-10">
      <app-brand-name></app-brand-name>
      <div class="flex gap-x-2 items-center text-[17px]/[26px]">
        <div class="hidden md:flex lg:flex">Don't have an account?</div>
        <a
          routerLink="/signup"
          class="flex gap-x-1 items-center cursor-pointer font-semibold"
        >
          <div>Sign up</div>
          <div
            class="animate-custom-bounce bg-white border border-purple-400 rounded-full flex justify-center items-center w-8 h-8"
          >
            <lucide-icon
              name="arrow-right"
              class="text-purple-900"
            ></lucide-icon>
          </div>
        </a>
      </div>
    </div>

    <div class="row-span-10 flex flex-col items-center w-full">
      <!-- main container -->
      <div class="flex flex-col w-full">
        <!-- top container  -->
        <div class="flex flex-col gap-y-6 w-full">
          <div class="py-[6px] text-center text-xl text-black font-semibold">
            Hey there, Earthling!
          </div>
          <!-- form container -->
          <div class="flex items-center justify-center w-full">
            <form
              [formGroup]="loginForm"
              (ngSubmit)="login()"
              class="w-full flex justify-center"
            >
              <div
                class="flex flex-col items-center gap-y-4 w-full max-w-[320px] lg:max-w-[360px]"
              >
                <div class="w-full relative">
                  <label for="identifier" class="absolute top-4 left-3">
                    <lucide-icon
                      name="user-round"
                      class="text-[#94649D] w-5 h-5"
                    ></lucide-icon>
                  </label>
                  <input
                    id="identifier"
                    type="text"
                    formControlName="identifier"
                    placeholder="Username"
                    class="w-full py-3 rounded-md bg-white border-2 border-[#EFD3F3] pl-10 focus:outline-none focus:ring-2 focus:ring-[#DBAEE2] focus:border-transparent focus:ring-offset-0"
                  />

                  <!-- error message -->
                  @if (is_form_submitted &&
                  loginForm.get('identifier')?.invalid) {
                  <div
                    class="absolute top-14 left-1/2 -translate-x-1/2 flex items-center gap-x-2 bg-white w-fit mt-1 py-[10px] px-2 border border-muted-foreground min-w-max rounded z-50"
                  >
                    <!-- Triangle Arrow -->
                    <!-- <span
                        class="absolute top-[-8px] left-8 transform -translate-x-1/2 w-0 h-0 border-l-[5px] border-r-[5px] border-b-[8px] border-b-white border-l-black border-r-black"
                      ></span> -->
                    <svg
                      id="triangle"
                      viewBox="0 0 100 100"
                      class="absolute -top-3 left-8 transform -translate-x-1/2 w-3 h-3"
                    >
                      <polygon
                        points="50 15, 100 100, 0 100"
                        fill="white"
                        class="stroke-[7px] stroke-muted-foreground"
                      />
                    </svg>

                    <lucide-icon
                      name="circle-x"
                      class="h-5 w-5 text-yellow-500"
                    ></lucide-icon>
                    <p>Hmm, that password doesn't seem right. Try again.</p>
                  </div>
                  }
                </div>
                <div class="w-full relative">
                  <label for="password" class="absolute top-4 left-3">
                    <lucide-icon
                      name="key-round"
                      class="text-[#94649D] w-5 h-5"
                    ></lucide-icon>
                  </label>
                  <input
                    id="password"
                    type="text"
                    formControlName="password"
                    placeholder="Password"
                    class="w-full py-3 rounded-md bg-white border-2 border-[#EFD3F3] pl-10 focus:outline-none focus:ring-2 focus:ring-[#DBAEE2] focus:border-transparent focus:ring-offset-0"
                  />

                  <!-- error message -->
                  @if (is_form_submitted && loginForm.get('password')?.invalid)
                  {
                  <div
                    class="absolute top-14 left-1/2 -translate-x-1/2 flex items-center gap-x-2 bg-white w-fit mt-1 py-[10px] px-2 border border-muted-foreground min-w-max rounded z-50"
                  >
                    <!-- Triangle Arrow -->
                    <!-- <span
                      class="absolute top-[-8px] left-8 transform -translate-x-1/2 w-0 h-0 border-l-[5px] border-r-[5px] border-b-[8px] border-b-white border-l-black border-r-black"
                    ></span> -->
                    <svg
                      id="triangle"
                      viewBox="0 0 100 100"
                      class="absolute -top-3 left-8 transform -translate-x-1/2 w-3 h-3"
                    >
                      <polygon
                        points="50 15, 100 100, 0 100"
                        fill="white"
                        class="stroke-[7px] stroke-muted-foreground"
                      />
                    </svg>

                    <lucide-icon
                      name="circle-x"
                      class="h-5 w-5 text-yellow-500"
                    ></lucide-icon>
                    <p>Hmm, that password doesn't seem right. Try again.</p>
                  </div>
                  }
                </div>
                <div class="text-blue-600 text-sm font-semibold">
                  Don't remember your password?
                </div>
                <button
                  class="text-base text-white font-semibold bg-black rounded-full w-full mt-4 py-3 shadow-xl transition-all duration-200"
                >
                  Log In
                </button>
              </div>
            </form>
          </div>
        </div>
        <!-- middle container -->
        <div>
          <div class="text-sm py-4 flex justify-center text-slate-600">or</div>
        </div>
        <!-- bottom container -->
        <!-- social logins -->
        <div
          class="flex flex-col items-center gap-y-4 text-base font-semibold w-full"
        >
          <!-- google icon -->
          <button
            class="flex flex-wrap items-center justify-center gap-x-2 w-full max-w-[320px] lg:max-w-[360px] py-3 border-2 border-[#7E41C2] hover:bg-[#F6ECFF] rounded-full shadow-xl transition-all duration-200"
          >
            <span>
              <img src="google-symbol.png" alt="google" class="w-5 h-5" />
            </span>
            <span class="text-center break-words">Continue with Google</span>
          </button>

          <!-- github icon -->
          <!-- hover:border-pink-500 bg-[#fd98d8] -->
          <button
            class="flex items-center justify-center gap-x-2 w-[320px] lg:w-[360px] py-3 border-2 border-black hover:bg-[#E7E8EC] rounded-full shadow-xl transition-all duration-200"
          >
            <!-- -->
            <span>
              <img src="github.png" alt="github" class="w-6 h-6" />
            </span>
            <span>Continue with Github</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="row-span-10"></div>
</div>
<!-- <form
  [formGroup]="loginForm"
  (ngSubmit)="login()"
  class="flex flex-col gap-y-6"
>
  <div>
    <div class="flex items-center absolute w-[360px] h-fit">
      <lucide-icon name="user-round"></lucide-icon>
      <input
        id="identifier"
        type="text"
        formControlName="identifier"
        placeholder="username or email"
        class="rounded w-full bg-white focus:bg-slate-200"
      />
    </div>
    <div *ngIf="identifier?.invalid && is_form_submitted">
      *Email is required
    </div>
  </div>
  <div>
    <div class="flex items-center absolute w-[360px] h-fit">
      <lucide-icon name="user-round"></lucide-icon>
      <input
        id="identifier"
        type="text"
        formControlName="identifier"
        placeholder="username or email"
        class="rounded w-full bg-white focus:bg-slate-200"
      />
    </div>
    <div *ngIf="identifier?.invalid && is_form_submitted">
      *Email is required
    </div>
  </div>
  <button type="submit">Submit</button>
</form> -->
<!-- work on diaplying error message -->
